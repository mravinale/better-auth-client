
> better-auth-demo@1.0.0 start
> node server.js

API listening on http://localhost:3005
Endpoints Docs available at http://localhost:3005/docs
[verifyToken] process.env.JWT_AUDIENCE: http://localhost:3000
[verifyToken] process.env.JWT_ISSUER: http://localhost:3000
[verifyToken] JWT claims: {
  name: 'Test User',
  email: 'testuser@example.com',
  emailVerified: false,
  image: null,
  createdAt: '2025-05-30T19:12:20.354Z',
  updatedAt: '2025-05-30T19:12:20.354Z',
  id: 'MJTmELhhU5eoGjFVJ9TLXGwLvXJ2j4Q0',
  iat: 1748636487,
  iss: 'http://localhost:3000',
  aud: 'http://localhost:3000',
  exp: 1748637387,
  sub: 'MJTmELhhU5eoGjFVJ9TLXGwLvXJ2j4Q0'
}
(node:34843) ExperimentalWarning: The Ed25519 Web Crypto API algorithm is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
[verifyToken] process.env.JWT_AUDIENCE: http://localhost:3000
[verifyToken] process.env.JWT_ISSUER: http://localhost:3000
[verifyToken] JWT validation failed: JWSInvalid: Invalid Compact JWS
    at compactVerify (file:///Users/mravinale/Repositories/Github/better-auth/Api/node_modules/jose/dist/webapi/jws/compact/verify.js:13:15)
    at jwtVerify (file:///Users/mravinale/Repositories/Github/better-auth/Api/node_modules/jose/dist/webapi/jwt/verify.js:5:28)
    at verifyToken (file:///Users/mravinale/Repositories/Github/better-auth/Api/middleware/authMiddleware.js:29:31)
    at Layer.handle [as handle_request] (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/layer.js:95:5)
    at /Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/index.js:280:10) {
  code: 'ERR_JWS_INVALID'
}
[verifyToken] Error stack: JWSInvalid: Invalid Compact JWS
    at compactVerify (file:///Users/mravinale/Repositories/Github/better-auth/Api/node_modules/jose/dist/webapi/jws/compact/verify.js:13:15)
    at jwtVerify (file:///Users/mravinale/Repositories/Github/better-auth/Api/node_modules/jose/dist/webapi/jwt/verify.js:5:28)
    at verifyToken (file:///Users/mravinale/Repositories/Github/better-auth/Api/middleware/authMiddleware.js:29:31)
    at Layer.handle [as handle_request] (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/layer.js:95:5)
    at /Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/mravinale/Repositories/Github/better-auth/Api/node_modules/express/lib/router/index.js:280:10)
[verifyToken] process.env.JWT_AUDIENCE: http://localhost:3000
[verifyToken] process.env.JWT_ISSUER: http://localhost:3000
[verifyToken] JWT claims: {
  name: 'Test User',
  email: 'testuser+1748636839341@example.com',
  emailVerified: false,
  image: null,
  createdAt: '2025-05-30T20:27:19.522Z',
  updatedAt: '2025-05-30T20:27:19.522Z',
  id: '412ywVZDj0C7DO8Jh5uLyjHJQLnsjYb9',
  iat: 1748636839,
  iss: 'http://localhost:3000',
  aud: 'http://localhost:3000',
  exp: 1748637739,
  sub: '412ywVZDj0C7DO8Jh5uLyjHJQLnsjYb9'
}
